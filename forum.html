<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Forum Â· æ˜¥æ¸¸å°åˆ†é˜Ÿ</title>

  <style>
    :root{
      --bg1:#fff7fb;
      --bg2:#f3fbff;
      --bg3:#fffdf3;
      --card:#ffffffd9;
      --text:#2b2b2b;
      --muted:#666;
      --primary:#6aa9ff;
      --primary2:#ff9fd2;
      --shadow: 0 10px 30px rgba(0,0,0,.08);
      --radius: 18px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Arial, Helvetica, sans-serif;
      color:var(--text);
      min-height:100vh;
      overflow-x:hidden;
      background:
        radial-gradient(900px 500px at 10% 10%, var(--bg1), transparent 60%),
        radial-gradient(900px 500px at 90% 10%, var(--bg2), transparent 60%),
        radial-gradient(900px 500px at 50% 90%, var(--bg3), transparent 60%),
        linear-gradient(180deg, #ffffff, #fbfbff);
    }

    /* ç²’å­ canvas */
    #particles{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      z-index:-1;
    }

    header{
      width:min(980px, 92vw);
      margin:22px auto 0;
      padding:18px 18px 10px;
      background:var(--card);
      border:1px solid rgba(255,255,255,.7);
      backdrop-filter: blur(10px);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    header h1{
      margin:0;
      font-size:22px;
      letter-spacing:.3px;
    }
    header p{
      margin:8px 0 0;
      color:var(--muted);
      line-height:1.6;
    }

    .toolbar{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-top:12px;
    }

    .btn{
      border:none;
      cursor:pointer;
      padding:10px 14px;
      border-radius:14px;
      color:#fff;
      background: linear-gradient(90deg, var(--primary), var(--primary2));
      box-shadow: 0 10px 18px rgba(255,159,210,.18);
      font-size:14px;
    }
    .btn:hover{filter:brightness(.98)}
    .btn.secondary{
      background:#ffffff;
      color:#333;
      border:1px solid rgba(0,0,0,.08);
      box-shadow:none;
    }

    main{
      width:min(980px, 92vw);
      margin:14px auto 30px;
      padding:18px;
      background:var(--card);
      border:1px solid rgba(255,255,255,.7);
      backdrop-filter: blur(10px);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
    }

    .panel{
      background:#fff;
      border-radius:16px;
      border:1px solid rgba(0,0,0,.06);
      padding:14px;
    }

    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    label{font-size:13px;color:var(--muted)}
    input[type="text"]{
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(0,0,0,.08);
      outline:none;
      min-width:220px;
      background:#fff;
    }

    .note{
      margin:10px 0 0;
      color:var(--muted);
      font-size:13px;
      line-height:1.6;
    }

    /* giscus å®¹å™¨ */
    .giscus-wrap{
      padding:10px 4px 0;
    }

    /* éŸ³ä¹æ§ä»¶ï¼ˆåšå¾—æ›´åƒâ€œèƒŒæ™¯éŸ³ä¹æŒ‰é’®â€ï¼‰ */
    .music{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }
    .chip{
      padding:8px 12px;
      border-radius:999px;
      background:#fff;
      border:1px solid rgba(0,0,0,.06);
      font-size:13px;
      color:#444;
    }

    footer{
      width:min(980px, 92vw);
      margin:0 auto 26px;
      text-align:center;
      color:#777;
      font-size:14px;
    }
  </style>
</head>

<body>
<canvas id="particles"></canvas>

<header>
  <h1>ğŸ’¬ Forum / å…±äº«ç•™è¨€æ¿</h1>
  <p>
    è¿™é‡Œç”¨ <strong>giscus</strong>ï¼ˆGitHub Discussionsï¼‰åšè¯„è®ºåŒº/è®ºå›ã€‚
    ä½ å¯ä»¥å…ˆè®¾ç½®ä¸€ä¸ªâ€œé¡µé¢æ˜µç§°â€ï¼ˆåªåœ¨æœ¬é¡µæ˜¾ç¤ºï¼‰ï¼Œç„¶ååœ¨ä¸‹æ–¹å‘è¨€ã€‚
  </p>

  <div class="toolbar">
    <button class="btn secondary" onclick="location.href='index.html'">â† è¿”å›é¦–é¡µ</button>
    <button class="btn" onclick="scrollToComments()">è·³åˆ°ç•™è¨€åŒº</button>
  </div>
</header>

<main>
  <div class="grid">
    <div class="panel">
      <div class="row">
        <div>
          <label>ä½ çš„é¡µé¢æ˜µç§°ï¼ˆä»…æœ¬é¡µæ˜¾ç¤ºï¼Œä¼šä¿å­˜åœ¨æµè§ˆå™¨ï¼‰</label><br/>
          <input id="nickname" type="text" placeholder="æ¯”å¦‚ï¼šQin / Feihan / å°ä¼™ä¼´" maxlength="24"/>
        </div>
        <div>
          <button class="btn" onclick="saveNick()">ä¿å­˜æ˜µç§°</button>
        </div>
        <div class="chip" id="nickDisplay">å½“å‰æ˜µç§°ï¼šæœªè®¾ç½®</div>
      </div>

      <p class="note">
        æ³¨æ„ï¼šgiscus çš„è¯„è®ºæ˜¾ç¤ºåæ¥è‡ªä½ çš„ GitHub è´¦å·ï¼Œæ— æ³•åœ¨å‰ç«¯éšæ„æ”¹æˆè‡ªå®šä¹‰ç”¨æˆ·åï¼ˆè¿™æ˜¯ giscus çš„æœºåˆ¶ï¼‰ã€‚ :contentReference[oaicite:2]{index=2}
        æˆ‘è¿™é‡Œåšçš„æ˜¯â€œç«™å†…æ˜¾ç¤ºæ˜µç§°â€ï¼Œæ–¹ä¾¿ä½ ä»¬ç©æ¢—/è®¤äººã€‚
      </p>
    </div>

    <div class="panel">
      <div class="music">
        <button class="btn" id="musicBtn" onclick="toggleMusic()">â–¶ æ’­æ”¾èƒŒæ™¯éŸ³ä¹</button>
        <span class="chip" id="musicStatus">çŠ¶æ€ï¼šæœªæ’­æ”¾ï¼ˆéœ€è¦ç‚¹å‡»æŒ‰é’®ï¼‰</span>
        <span class="chip">æç¤ºï¼šæµè§ˆå™¨é€šå¸¸ç¦æ­¢è‡ªåŠ¨æ’­æ”¾ï¼Œå¿…é¡»å…ˆæ‰‹åŠ¨ç‚¹ä¸€æ¬¡</span>
      </div>

      <!-- ä½ æŠŠ music.m4a æ”¾åˆ° repo æ ¹ç›®å½•æˆ– assets/ ä¸‹ï¼Œç„¶åæ”¹ src -->
      <audio id="bgm" preload="auto" loop playsinline>
        <!-- æ¨èï¼šåŒæ—¶æ”¾ mp3 ä½œä¸ºå…¼å®¹å¤‡ç”¨ -->
        <!-- <source src="assets/music.mp3" type="audio/mpeg"> -->
        <source src="assets/music.m4a" type="audio/mp4">
        ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
      </audio>

      <p class="note">
        å¦‚æœä½ ç°åœ¨â€œé»‘å±/æ·±è‰²â€ï¼Œé€šå¸¸æ˜¯ä¸»é¢˜æˆ– CSS æ²¡è¦†ç›–åˆ°ï¼›è¿™ä»½æ˜¯æµ…è‰²é©¬å¡é¾™é£ã€‚
        å¦‚æœ m4a æ’­æ”¾ä¸äº†ï¼Œå¯èƒ½æ˜¯æµè§ˆå™¨å…¼å®¹/ç¼–ç /MIME å¯¼è‡´ã€‚m4a æ ‡å‡† MIME å¸¸è§æ˜¯ <code>audio/mp4</code>ã€‚ :contentReference[oaicite:3]{index=3}
        æœ€ç¨³åšæ³•ï¼šå†è½¬ä¸€ä»½ mp3 ä¸€èµ·æ”¾ï¼ˆä¸Šé¢å·²ç•™äº† mp3 çš„ sourceï¼‰ã€‚
      </p>
    </div>

    <div class="panel" id="comments">
      <h2 style="margin:0 0 8px;">ğŸ“ ç•™è¨€åŒºï¼ˆgiscusï¼‰</h2>
      <p class="note" style="margin-top:0;">
        éœ€è¦ä½ å…ˆåœ¨ giscus é…ç½®é¡µç”Ÿæˆè„šæœ¬å‚æ•°ï¼Œå¹¶æŠŠ <code>data-repo-id</code>ã€<code>data-category-id</code> å¡«è¿›å»ã€‚ :contentReference[oaicite:4]{index=4}
      </p>

      <div class="giscus-wrap">
        <!-- âœ… giscus åµŒå…¥ -->
        <script src="https://giscus.app/client.js"
            data-repo="71Qin/JobEntertainment"
            data-repo-id="R_kgDOQt7F2w"
            data-category="General"
            data-category-id="DIC_kwDOQt7F284C0Mzm"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme="preferred_color_scheme"
            data-lang="zh-CN"
            crossorigin="anonymous"
            async>
        </script>    
      </div>
    </div>
  </div>
</main>

<footer>Â© 2025 JobEntertainment Â· Forum</footer>

<script>
  // ====== æ˜µç§°ï¼šlocalStorage ======
  const nickInput = document.getElementById("nickname");
  const nickDisplay = document.getElementById("nickDisplay");

  function loadNick(){
    const saved = localStorage.getItem("JE_NICKNAME") || "";
    if(saved){
      nickInput.value = saved;
      nickDisplay.textContent = "å½“å‰æ˜µç§°ï¼š" + saved;
    }else{
      nickDisplay.textContent = "å½“å‰æ˜µç§°ï¼šæœªè®¾ç½®";
    }
  }

  function saveNick(){
    const v = (nickInput.value || "").trim();
    if(!v){
      localStorage.removeItem("JE_NICKNAME");
      nickDisplay.textContent = "å½“å‰æ˜µç§°ï¼šæœªè®¾ç½®";
      alert("å·²æ¸…ç©ºæ˜µç§°");
      return;
    }
    localStorage.setItem("JE_NICKNAME", v);
    nickDisplay.textContent = "å½“å‰æ˜µç§°ï¼š" + v;
    alert("æ˜µç§°å·²ä¿å­˜");
  }

  loadNick();

  function scrollToComments(){
    document.getElementById("comments").scrollIntoView({behavior:"smooth", block:"start"});
  }

  // ====== èƒŒæ™¯éŸ³ä¹ï¼ˆéœ€è¦ç”¨æˆ·ç‚¹å‡»æ‰èƒ½æ’­æ”¾ï¼‰ ======
  const bgm = document.getElementById("bgm");
  const musicBtn = document.getElementById("musicBtn");
  const musicStatus = document.getElementById("musicStatus");

  async function toggleMusic(){
    try{
      if(bgm.paused){
        await bgm.play(); // éœ€è¦æ‰‹åŠ¿è§¦å‘
        musicBtn.textContent = "â¸ æš‚åœèƒŒæ™¯éŸ³ä¹";
        musicStatus.textContent = "çŠ¶æ€ï¼šæ’­æ”¾ä¸­";
      }else{
        bgm.pause();
        musicBtn.textContent = "â–¶ æ’­æ”¾èƒŒæ™¯éŸ³ä¹";
        musicStatus.textContent = "çŠ¶æ€ï¼šå·²æš‚åœ";
      }
    }catch(e){
      console.warn(e);
      alert("æ’­æ”¾å¤±è´¥ï¼šå¯èƒ½æ˜¯æµè§ˆå™¨é™åˆ¶æˆ–éŸ³é¢‘æ ¼å¼/è·¯å¾„é—®é¢˜ã€‚å»ºè®®åŠ ä¸€ä»½ mp3 å¤‡ç”¨ã€‚");
    }
  }

  // ====== å½©è‰²ç²’å­ï¼ˆé©¬å¡é¾™è‰²ç³»ï¼‰ ======
  const canvas = document.getElementById("particles");
  const ctx = canvas.getContext("2d");

  let W, H, dpr;
  function resize(){
    dpr = Math.max(1, window.devicePixelRatio || 1);
    W = canvas.width = Math.floor(window.innerWidth * dpr);
    H = canvas.height = Math.floor(window.innerHeight * dpr);
    canvas.style.width = window.innerWidth + "px";
    canvas.style.height = window.innerHeight + "px";
  }
  window.addEventListener("resize", resize);
  resize();

  const pastel = [
    "rgba(255, 173, 214, 0.55)",
    "rgba(170, 216, 255, 0.55)",
    "rgba(255, 231, 170, 0.55)",
    "rgba(196, 255, 214, 0.55)",
    "rgba(212, 192, 255, 0.55)"
  ];

  const N = 70;
  const particles = Array.from({length:N}, () => ({
    x: Math.random() * W,
    y: Math.random() * H,
    r: (Math.random() * 3 + 1) * dpr,
    vx: (Math.random() * 0.6 - 0.3) * dpr,
    vy: (Math.random() * 0.6 - 0.3) * dpr,
    c: pastel[(Math.random()*pastel.length)|0]
  }));

  function tick(){
    ctx.clearRect(0,0,W,H);

    // è½»å¾®é›¾åŒ–åº•è‰²
    ctx.fillStyle = "rgba(255,255,255,0.08)";
    ctx.fillRect(0,0,W,H);

    for(const p of particles){
      p.x += p.vx;
      p.y += p.vy;

      if(p.x < -20*dpr) p.x = W + 20*dpr;
      if(p.x > W + 20*dpr) p.x = -20*dpr;
      if(p.y < -20*dpr) p.y = H + 20*dpr;
      if(p.y > H + 20*dpr) p.y = -20*dpr;

      ctx.beginPath();
      ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
      ctx.fillStyle = p.c;
      ctx.fill();
    }

    // è¿æ¥çº¿ï¼ˆè¿‘è·ç¦»æ·¡æ·¡çš„ï¼‰
    for(let i=0;i<N;i++){
      for(let j=i+1;j<N;j++){
        const a = particles[i], b = particles[j];
        const dx = a.x - b.x, dy = a.y - b.y;
        const dist = Math.sqrt(dx*dx + dy*dy);
        const max = 140 * dpr;
        if(dist < max){
          const alpha = (1 - dist/max) * 0.12;
          ctx.strokeStyle = `rgba(120,120,140,${alpha})`;
          ctx.lineWidth = 1 * dpr;
          ctx.beginPath();
          ctx.moveTo(a.x,a.y);
          ctx.lineTo(b.x,b.y);
          ctx.stroke();
        }
      }
    }

    requestAnimationFrame(tick);
  }
  tick();
</script>

</body>
</html>
